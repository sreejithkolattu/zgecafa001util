sap.ui.define(["jquery.sap.global","sap/ui/core/Control"],function(e,a){"use strict";return{handleRoleBasedPersona:function(a){var s=a;var t="/sap/opu/odata/sap/ZGECAGS010_SRV/";var n=new sap.ui.model.odata.v2.ODataModel(t);n.read("/MultiplePersonaSet",{success:function(a,t){if(a!==undefined&&a.results!==undefined&&a.results.length>1){s._oDialog=sap.ui.xmlfragment("CLMPRJ_ID","zgecafa001util.zgecafa001util.fragments.PersonaSelectionView",s);s.getView().addDependent(s._oDialog);e.sap.syncStyleClass("sapUiSizeCompact",s.getView(),s._oDialog);s._oDialog.setModel(new sap.ui.model.json.JSONModel(a));s._oDialog.open();sap.ui.core.Fragment.byId("CLMPRJ_ID","btnOk").attachPress(o)}else{s.onPersonaSelection()}},error:function(e){sap.m.MessageToast.show("Data not saved..!!")}})},onSelectPersona:function(e){var a=e.getSource().getBindingContext().getObject();this._oDialog.setModel(a,"PersonaModel")},onPressOkBtn:function(){var e=this;var a="/sap/opu/odata/sap/ZGECAGS010_SRV/";var o=new sap.ui.model.odata.v2.ODataModel(a);var s=this._oDialog.getModel("PersonaModel");o.create("/MultiplePersonaSet",s,{success:function(a,o){e._oDialog.close();e._oDialog.destroy();e._oDialog=undefined},error:function(e){sap.m.MessageToast.show("Data not saved..!!");return}})}};function o(){var e=this;var a="/sap/opu/odata/sap/ZGECAGS010_SRV/";var o=new sap.ui.model.odata.v2.ODataModel(a);var s=this._oDialog.getModel("PersonaModel");o.create("/MultiplePersonaSet",s,{success:function(a,o){e._oDialog.close();e._oDialog.destroy();e._oDialog=undefined},error:function(e){sap.m.MessageToast.show("Data not saved..!!");return}})}},true);
sap.ui.define(["jquery.sap.global","sap/ui/core/Control"],function(e,a){"use strict";return{handleRoleBasedPersona:function(a){var n=a;var s="/sap/opu/odata/sap/ZGECAGS010_SRV/";var r=new sap.ui.model.odata.v2.ODataModel(s);r.read("/MultiplePersonaSet",{success:function(a,s){if(a!==undefined&&a.results!==undefined&&a.results.length>1){n._oDialog=sap.ui.xmlfragment("CLMPRJ_ID","zgecafa001util.zgecafa001util.fragments.PersonaSelectionView",n);n.getView().addDependent(n._oDialog);e.sap.syncStyleClass("sapUiSizeCompact",n.getView(),n._oDialog);n._oDialog.setModel(new sap.ui.model.json.JSONModel(a));n._oDialog.open();sap.ui.core.Fragment.byId("CLMPRJ_ID","btnOk").attachPress(t);sap.ui.core.Fragment.byId("CLMPRJ_ID","idPersonaListItem").attachSelectionChange(o)}else{n.onPersonaSelection()}},error:function(e){sap.m.MessageToast.show("Data not saved..!!")}})}};function o(e){var a=e.getSource().getSelectedItem().getBindingContext().getObject();e.getSource().getParent().getParent().setModel(a,"PersonaModel")}function t(e){var a=this;var o="/sap/opu/odata/sap/ZGECAGS010_SRV/";var t=new sap.ui.model.odata.v2.ODataModel(o);var n=e.getSource().getParent().getModel("PersonaModel");t.create("/MultiplePersonaSet",n,{success:function(e,o){a._oDialog.close();a._oDialog.destroy();a._oDialog=undefined},error:function(e){sap.m.MessageToast.show("Data not saved..!!");return}})}},true);